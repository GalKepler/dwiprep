digraph tensor_estimation{
  label="tensor_estimation";
  tensor_estimation_fit_tensor[label="fit_tensor (mrtrix3)", style=filled, fillcolor="#FFFFC8"];
  tensor_estimation_compute_metrics[label="compute_metrics (mrtrix3)", style=filled, fillcolor="#FFFFC8"];
  subgraph cluster_tensor_estimation_cleaning {
      edge [color="#0000FF"];
      style=filled;
      fillcolor="#B4B4FF";
      label="cleaning";
    tensor_estimation_cleaning_dwi_mif_conversion[label="dwi_mif_conversion (mrtrix3)", style=filled, fillcolor="#E6E6FF"];
    tensor_estimation_cleaning_fmap_mif_conversion[label="fmap_mif_conversion (mrtrix3)", style=filled, fillcolor="#E6E6FF"];
    subgraph cluster_tensor_estimation_cleaning_preprocess {
            edge [color="#FF0000"];
            style=filled;
            fillcolor="#FFB4B4";
            label="preprocess";
        tensor_estimation_cleaning_preprocess_dwiextract[label="dwiextract (mrtrix3)", style=filled, fillcolor="#FFE6E6"];
        tensor_estimation_cleaning_preprocess_dwidenoise[label="dwidenoise (mrtrix3)", style=filled, fillcolor="#FFE6E6"];
        tensor_estimation_cleaning_preprocess_mrmath[label="mrmath (mrtrix3)", style=filled, fillcolor="#FFE6E6"];
        tensor_estimation_cleaning_preprocess_list_files[label="list_files (utility)", style=filled, fillcolor="#FFE6E6"];
        tensor_estimation_cleaning_preprocess_mrcat[label="mrcat (mrtrix3)", style=filled, fillcolor="#FFE6E6"];
        tensor_estimation_cleaning_preprocess_dwifslpreproc[label="dwifslpreproc (mrtrix3)", style=filled, fillcolor="#FFE6E6"];
        tensor_estimation_cleaning_preprocess_biascorrect[label="biascorrect (mrtrix3)", style=filled, fillcolor="#FFE6E6"];
        tensor_estimation_cleaning_preprocess_dwiextract -> tensor_estimation_cleaning_preprocess_mrmath;
        tensor_estimation_cleaning_preprocess_dwidenoise -> tensor_estimation_cleaning_preprocess_dwifslpreproc;
        tensor_estimation_cleaning_preprocess_mrmath -> tensor_estimation_cleaning_preprocess_list_files;
        tensor_estimation_cleaning_preprocess_list_files -> tensor_estimation_cleaning_preprocess_mrcat;
        tensor_estimation_cleaning_preprocess_mrcat -> tensor_estimation_cleaning_preprocess_dwifslpreproc;
        tensor_estimation_cleaning_preprocess_dwifslpreproc -> tensor_estimation_cleaning_preprocess_biascorrect;
    }
    tensor_estimation_cleaning_dwi_mif_conversion -> tensor_estimation_cleaning_preprocess_dwiextract;
    tensor_estimation_cleaning_dwi_mif_conversion -> tensor_estimation_cleaning_preprocess_dwidenoise;
    tensor_estimation_cleaning_fmap_mif_conversion -> tensor_estimation_cleaning_preprocess_list_files;
  }
  tensor_estimation_fit_tensor -> tensor_estimation_compute_metrics;
  tensor_estimation_cleaning_preprocess_biascorrect -> tensor_estimation_fit_tensor;
}